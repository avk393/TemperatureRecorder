#include <stdint.h>
#include "tm4c123gh6pm.h"

#define SIZE 53
uint16_t const ADCdata[53]={0,0,0,0,0,39,94,149,206,263,322,
     381,441,503,565,629,694,760,827,895,965,
     1035,1107,1180,1255,1331,1408,1486,1566,1647,1730,
     1814,1900,1987,2076,2166,2258,2352,2447,2544,2643,
     2743,2845,2949,3055,3163,3273,3384,3498,3614,3731,3851,4096};

uint16_t const Tdata[53]={4000,4000,3950,3900,3850,3800,3750,3700,3650,3600,3550,
     3500,3450,3400,3350,3300,3250,3200,3150,3100,3050,
     3000,2950,2900,2850,2800,2750,2700,2650,2600,2550,
     2500,2450,2400,2350,2300,2250,2200,2150,2100,2050,
     2000,1950,1900,1850,1800,1750,1700,1650,1600,1550,1500,1500};

uint16_t const Rdata[SIZE]={6926,6926,7054,7184,7318,7455,7596,7739,7886,8037,8192,
     8350,8512,8678,8849,9023,9203,9386,9574,9767,9966,
     10169,10377,10591,10810,11036,11267,11504,11748,11998,12255,
     12519,12790,13069,13355,13650,13952,14263,14582,14911,15249,
     15597,15954,16322,16701,17090,17491,17904,18329,18767,19218,19682,19682};


	
uint16_t calibrate(uint32_t adc){
	int index = 0;
	
	while(index<SIZE-1){
		if(ADCdata[index]==adc) return Tdata[index];
		else if(adc>ADCdata[index] && adc<ADCdata[index+1]) break;
		else index++;
	}
	
	if(index>=52) return 0;
	else{
		uint16_t adc_range = ((adc - ADCdata[index])*5)/10;
		uint16_t calib_temp = (Tdata[index]+adc_range)+ 600;
		int waste_of_space;
		waste_of_space++;
		return calib_temp;
	}
}
